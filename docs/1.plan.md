# 3 日間集中開発計画書 for マネーフィット MVP

## 概要

「マネーフィット」は、日々のダイエットの努力を「資産」として可視化する、新しい体験を提供する Web アプリケーションです。ユーザーは自身の体重と目標を設定し、目標達成度に応じて擬似的に銀行口座の残高が増えていきます。楽しみながら健康的な生活習慣を身につけ、資産形成への意識を高めることを目的としています。
「マネーフィット」の最低限の機能実装を目標としてアプリ開発を進めます。

## 1. MVP（Minimum Viable Product）の定義

デモ会成功に向け、この 3 日間で実装する機能範囲を以下のように定めます。

### 🎯 スコープイン（やること）

- **単一のトップページ**に全要素を配置します。
- **ユーザー認証は省略**し、誰でもすぐに使える状態にします。
- 初期体重・目標体重は、**プログラム内に直接書き込みます（ハードコーディング）**。
- 体重入力フォームに数値を入力し、ボタンを押せるようにします。
- ボタンを押すと、バックエンドが**擬似的な入金ロジック**を実行します。
- GMO あおぞら NET 銀行 API（sunabar）を実際に呼び出し、**残高が増えていることを確認**できるようにします。

### 🚫 スコープアウト（やらないこと）

- ログイン、新規登録機能
- 複数ユーザーのデータ管理
- 過去の体重履歴の保存・表示
- グラフやアバターなどのリッチな UI
- 複雑なページ遷移

---

## 2. 開発ロードマップ（2 名体制）

- **担当 A:** フロントエンド担当
- **担当 B:** バックエンド担当

### ☀️ Day 1: 基盤構築と各担当領域の立ち上げ (6 時間/人)

#### 【午前：共通タスク (2h)】 ※ペアプロ推奨

- **キックオフミーティング (0.5h)**
  - ロードマップの認識合わせ
  - API 仕様（リクエスト/レスポンス）の決定
- **環境構築 (1.5h)**
  - Next.js プロジェクト作成、TailwindCSS 導入
  - GitHub リポジトリの作成と共有

<details>

# Day1 午前・共通タスク ハンズオン手順書

この手順書は、2 名がペアプログラミング形式で最初の環境をセットアップするための具体的なステップです。どちらか 1 名が代表して操作し、もう 1 名は確認しながら進めてください。

---

## 🏁 1. キックオフミーティング (0.5 時間)

本格的な作業の前に、チームの認識を完全に一致させます。

- [ ] **目的の再確認:** 今回の 3 日間スプリントで目指すゴール（MVP の要件）を口頭で読み上げ、全員で「はい、合っています」と確認する。
- [ ] **役割分担の確認:** A さん（フロントエンド担当）、B さん（バックエンド担当）の役割を再確認する。
- [ ] **開発ルールの合意:**
  - Git のブランチ名 (`feature/name/task`) とコミットメッセージ (`feat: ...`) のルールを確認する。
  - コーディングスタイルは**Prettier**に完全に従うことを合意する。
  - 困ったら**30 分以内**に相談するルールを確認する。
- [ ] **API 仕様書の最終確認:**
  - `POST /api/weight` のリクエストとレスポンスの形を再度画面に映し、全員で「この仕様で進めます」と合意する。

---

## 🛠️ 2. 環境構築 (1.5 時間)

ここからは実際に PC を操作していきます。

### Step 1: GitHub リポジトリの作成と共有 (代表者 1 名)

1.  **リポジトリ作成:**

    - ブラウザで [GitHub](https://github.com/) を開きます。
    - `New` ボタンをクリックして、新しいリポジトリ作成画面を開きます。
    - **Repository name** を入力します (例: `money-fit-app`)。
    - **Description** を任意で入力します (例: Diet to Earn App)。
    - **Public** を選択します。
    - **"Add .gitignore"** をクリックし、テンプレートから `Node` を選択します。
    - `Create repository` ボタンをクリックします。

2.  **メンバーの招待:**
    - 作成したリポジトリのページで `Settings` > `Collaborators` を開きます。
    - `Add people` ボタンを押し、もう一人のメンバーの GitHub アカウント名を検索して招待します。
    - （招待された側は、GitHub から届くメールを承認してください。）

### Step 2: Next.js プロジェクトの作成と初回 Push (代表者 1 名)

1.  **ローカルにクローン:**

    - ターミナル（コマンドプロンプトや PowerShell など）を開きます。
    - 開発用ディレクトリに移動し、先ほど作成したリポジトリを`git clone`します。

    ```bash
    git clone [https://github.com/YOUR_USERNAME/money-fit-app.git](https://github.com/YOUR_USERNAME/money-fit-app.git)
    ```

2.  **プロジェクト作成:**

    - クローンしたディレクトリの中に移動します。

    ```bash
    cd money-fit-app
    ```

    - **`npx create-next-app`** コマンドを実行して、**カレントディレクトリ**に Next.js プロジェクトを作成します。`.`を付け忘れないように注意してください。

    ```bash
    npx create-next-app@latest . --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"
    ```

    - 上記のコマンドは、以下の設定でプロジェクトをセットアップします。
      - `.`: 今いるこのフォルダに作成
      - `--typescript`: TypeScript を使用
      - `--tailwind`: TailwindCSS を使用
      - `--eslint`: ESLint を使用
      - `--app`: App Router を使用
      - `--src-dir`: ソースコードを`src`フォルダにまとめる
      - `--import-alias`: インポートパスを`@/`で始める

3.  **動作確認:**

    - プロジェクトが正しく作成されたか確認します。

    ```bash
    npm run dev
    ```

    - ブラウザで `http://localhost:3000` を開き、Next.js のウェルカムページが表示されれば成功です。確認したら、ターミナルで `Ctrl + C` を押してサーバーを停止します。

4.  **初回 Push:**
    - 作成された全てのファイルを GitHub にアップロードします。
    ```bash
    git add .
    git commit -m "chore: Initial commit with Next.js setup"
    git push origin main
    ```

### Step 3: プロジェクトのセットアップ (もう 1 名のメンバー)

1.  **ローカルにクローン:**

    - （まだクローンしていない場合）ターミナルを開き、リポジトリを`git clone`します。

    ```bash
    git clone [https://github.com/OWNER_USERNAME/money-fit-app.git](https://github.com/OWNER_USERNAME/money-fit-app.git)
    ```

    - （すでに空のリポジトリをクローン済みの場合は、`git pull`で最新の状態を取得します。）

2.  **依存パッケージのインストール:**

    - クローンしたディレクトリの中に移動します。

    ```bash
    cd money-fit-app
    ```

    - `package.json`を元に必要なライブラリをインストールします。

    ```bash
    npm install
    ```

3.  **動作確認:**
    - 代表者と同様に、プロジェクトが正しく動作するか確認します。
    ```bash
    npm run dev
    ```
    - ブラウザで `http://localhost:3000` が表示されれば成功です。

### ✅ Step 4: 最終確認 (全員)

お互いの PC で**全く同じ Next.js の初期画面**が `localhost:3000` で表示されることを確認できれば、環境構築は完了です！これで、それぞれの担当タスクに進む準備が整いました。

</details>

#### 【午後：分担タスク (4h)】

- **担当 A (フロントエンド)**
  - **静的 UI コンポーネント作成 (4h)**
    - ヘッダー、体重入力フォーム、残高表示エリアの見た目をコンポーネントとして作成し、トップページに配置する。
- **担当 B (バックエンド)**
  - **DB・Prisma 環境構築 (2h)**
    - Docker Compose で PostgreSQL を起動し、Prisma で接続する。
  - **API の雛形作成 (2h)**
    - Prisma スキーマを定義・マイグレーションし、体重記録 API (`/api/weight`) の空のファイルを作成する。

---

### ⛅️ Day 2: コア機能の実装 (6 時間/人)

#### 【午前：分担タスク (3h)】

- **担当 A (フロントエンド)**
  - **状態管理の実装 (3h)**
    - `useState`を使い、フォームの入力値を保持。ボタンクリックでコンソールに入力値を表示する。
- **担当 B (バックエンド)**
  - **体重記録 API の実装 (3h)**
    - `/api/weight`で受け取った体重データを DB に保存する処理を実装し、Postman でテストする。

#### 【午後：分担タスク (3h)】

- **担当 A (フロントエンド)**
  - **API 連携 (フロント側) (3h)**
    - ボタンクリックで`/api/weight`にデータを送信(`fetch`)し、レスポンスをコンソールに表示する。
- **担当 B (バックエンド)**
  - **銀行 API 連携の準備 (3h)**
    - API 認証情報を環境変数に設定し、残高照会 API を単体で呼び出す関数を作成する。

---

### ☁️ Day 3: 結合・仕上げ (6 時間/人)

#### 【午前：分担タスク (3h)】

- **担当 A (フロントエンド)**
  - **画面へのデータ反映 (3h)**
    - バックエンドから最新の残高を取得し、画面の残高表示エリアに反映させる。
- **担当 B (バックエンド)**
  - **擬似入金ロジックと API の完成 (3h)**
    - 体重減少率を計算し、残高照会 API の実行と結果を返す処理を`/api/weight`に統合する。

#### 【午後：共通タスク (3h)】 ※ペアプロ推奨

- **結合テスト＆デバッグ (2h)**
  - 一連の動作（体重入力 → 残高増加）を 2 人で最終確認し、バグを修正する。
- **デモ準備 (1h)**
  - デモシナリオを整理し、リハーサルを行う。

---

## 3. 成功のためのキーポイント 🔑

1.  **毎朝のミーティング (朝会) の実施**
    - 作業開始前に 5 分、「昨日やったこと」「今日やること」「困っていること」を共有する。
2.  **API 仕様書の作成**
    - 最初に API のリクエストとレスポンスの形（JSON の構造など）をテキストで合意しておく。
3.  **迅速な相談**
    - 30 分以上一人で悩んだら、すぐにペアに相談する。短期開発では時間が最も重要。
