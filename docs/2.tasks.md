# 担当者別・日次タスクリスト (3 日間集中開発)

## ☀️ Day 1 (9/23 火): 基盤構築と UI/API の骨格作り

### A さん (フロントエンド担当)

- [ ] **【午前: 共通】** キックオフと環境構築に参加。Git リポジトリをローカルにクローンする。
- [ ] **【午後】UI コンポーネントのファイル作成**
  - `src/components/` ディレクトリを作成する。
  - `Header.tsx`, `BalanceDisplay.tsx`, `WeightInputForm.tsx` の 3 つの空のファイルを作成する。
- [ ] **【午後】静的な UI コンポーネントの実装**
  - 機能は一切不要。ダミーのテキストや数値を使って、見た目だけを HTML(JSX)と TailwindCSS でコーディングする。
  - `BalanceDisplay` には「現在の残高: 100,000 円」のように固定の文言を表示させる。
- [ ] **【午後】トップページへの配置**
  - 作成した 3 つのコンポーネントを `src/app/page.tsx` にインポートし、画面に配置して全体のレイアウトを整える。

### B さん (バックエンド担当)

- [ ] **【午前: 共通】** キックオフと環境構築に参加。Next.js プロジェクトの作成と Git リポジトリの初期設定を行う。
- [ ] **【午後】データベース環境の構築**
  - `docker-compose.yml` ファイルを作成し、`docker-compose up -d` コマンドで PostgreSQL コンテナを起動する。
  - `npx prisma init` を実行し、Prisma と DB を接続する設定を行う。
- [ ] **【午後】データベーススキーマの定義**
  - `prisma/schema.prisma` ファイルに、体重を記録するための `WeightLog` テーブルを定義する。
  - `npx prisma migrate dev` を実行し、実際に DB にテーブルを作成する。
- [ ] **【午後】API ルートの骨格作成**
  - `src/app/api/weight/route.ts` ファイルを作成する。
  - 中身は `{ "message": "API is working" }` という JSON を返すだけのシンプルなものにする。
  - ブラウザで `http://localhost:3000/api/weight` にアクセスし、メッセージが表示されることを確認する。

---

## ⛅️ Day 2 (9/24 水): コア機能の実装と API 連携

### A さん (フロントエンド担当)

- [ ] **【午前】入力フォームの状態管理**
  - `useState` を使って、`WeightInputForm` コンポーネント内の体重入力値を保持できるようにする。
  - 「記録する」ボタンを押したときに、保持している入力値がブラウザのコンソールに表示されるようにする。
- [ ] **【午後】バックエンド API の呼び出し**
  - ボタンが押されたときに、`/api/weight` へ `fetch` を使って POST リクエストを送信する関数を作成する。
  - リクエストボディには、API 仕様書通り `{ "weight": (入力値) }` の形式でデータを含める。
  - API からのレスポンス（成功または失敗）をコンソールに表示する。

### B さん (バックエンド担当)

- [ ] **【午前】DB へのデータ保存機能の実装**
  - `/api/weight` で、リクエストボディから体重データを正しく受け取る処理を実装する。
  - 受け取った体重データを `Prisma Client` を使って PostgreSQL に保存する。
  - **Postman**を使い、リクエストを送信して DB にデータが記録されるか、徹底的にテストする。
- [ ] **【午後】sunabar API 連携の準備と実装**
  - `.env.local` ファイルに sunabar の API キーなどの機密情報を環境変数として設定する。
  - sunabar の**残高照会 API**を呼び出す関数を作成し、単体で残高が取得できることを確認する。

---

## ☁️ Day 3 (9/25 木): 結合テストと仕上げ

### A さん (フロントエンド担当)

- [ ] **【午前】API レスポンスの画面反映**
  - `BalanceDisplay` コンポーネントが、API から受け取った実際の残高を表示できるように修正する。
  - `page.tsx` に残高を保持するための `useState` を追加し、API 呼び出しが成功したらその state を更新する。
- [ ] **【午前】ローディングとエラー表示**
  - API 通信中は「記録する」ボタンを無効化するなど、簡単なローディング処理を追加する。
  - API 通信が失敗した場合に、画面に「エラーが発生しました」などのメッセージを表示する。
- [ ] **【午後: 共通】** 結合テストとデバッグ作業に参加する。

### B さん (バックエンド担当)

- [ ] **【午前】擬似入金ロジックの統合**
  - `/api/weight` の処理を修正し、DB 保存後に sunabar の擬似入金処理と残高照会処理を順番に呼び出すようにする。
  - 最終的な残高を API のレスポンスとしてフロントエンドに返すように実装を完成させる。
- [ ] **【午前】エラーハンドリング**
  - sunabar API の呼び出しが失敗した場合など、様々なエラーパターンを想定し、適切なエラーレスポンスを返すように修正する。
- [ ] **【午後: 共通】** 結合テストとデバッグ作業に参加し、サーバー側のログを確認する。

---

## ✨ Demo Day (9/26 金): 最終確認とデモ

### A さん & B さん (共通タスク)

- [ ] **【デモ前】最終リハーサル**
  - 朝一でアプリケーションを起動し、デモで発表する一連の流れが問題なく動作するか最終確認を行う。
- [ ] **【デモ前】発表内容の整理**
  - 「このアプリで何ができるのか」「3 日間で工夫した点はどこか」「今後どうしていきたいか」など、デモで話す内容を簡単に打ち合わせる。
- [ ] **【デモ】** 自信を持って発表する！
